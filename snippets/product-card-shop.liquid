{% comment %}theme-check-disable TemplateLength{% endcomment %}
{{ 'block-collection-product.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
{{ 'component-rte.css' | asset_url | stylesheet_tag }}

<link rel="stylesheet" href="{{ 'component-cart-notification.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-deferred-media.css' | asset_url }}" media="print" onload="this.media='all'">

<script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>

<section class="product-card-shop page-width" data-scroll>
  <div class="grid">
  <div class="product grid__item" data-scroll>
    <div class="product__media-wrapper">
      <a href="{{ product.url | default: '#' }}" class="full-unstyled-link">
      <img
        srcset="{%- if product.media[0].width >= 165 -%}{{ product.media[0] | img_url: '165x' }} 165w,{%- endif -%}
          {%- if product.media[0].width >= 360 -%}{{ product.media[0] | img_url: '360x' }} 360w,{%- endif -%}
          {%- if product.media[0].width >= 533 -%}{{ product.media[0] | img_url: '533x' }} 533w,{%- endif -%}
          {%- if product.media[0].width >= 720 -%}{{ product.media[0] | img_url: '720x' }} 720w,{%- endif -%}
          {%- if product.media[0].width >= 940 -%}{{ product.media[0] | img_url: '940x' }} 940w,{%- endif -%}
          {%- if product.media[0].width >= 1066 -%}{{ product.media[0] | img_url: '1066x' }} 1066w{%- endif -%}"
        src="{{ product.media[0] | img_url: '533x' }}"
        sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 990px) calc((100vw - 130px) / 4), (min-width: 750px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
        alt="{{ product.media[0].alt | escape }}"
        loading="lazy"
        class="motion-reduce"
      width="{{ product.media[0].width }}"
      height="{{ product.media[0].height }}"
      >
      </a>
    </div>
    <div class="product__info-wrapper">
      <div id="ProductInfo-{{ section.id }}" class="product__info-container{% if section.settings.enable_sticky_info %} product__info-container--sticky{% endif %}">
        {%- assign product_form_id = 'product-form-' | append: section.id -%}

        <h1 class="product__title" {{ block.shopify_attributes }}>
          <a href="{{ product.url | default: '#' }}" class="full-unstyled-link">
          {{ product.title | escape }}
          </a>
        </h1>

        <div class="no-js-hidden" id="price-{{ section.id }}" {{ block.shopify_attributes }}>
          {%- render 'price', product: product, use_variant: true, show_badges: true, price_class: 'price--large' -%}
        </div>
        <div {{ block.shopify_attributes }}>
          {%- form 'product', product, id: 'product-form-installment', class: 'installment caption-large' -%}
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
            {{ form | payment_terms }}
          {%- endform -%}
        </div>

        {% comment %} Variant Selector {% endcomment %}
        {% comment %} {%- unless product.has_only_default_variant -%}
            <variant-radios class="no-js-hidden" data-section="{{  section.id }}" data-url="{{ product.url }}" {{ block.shopify_attributes }}>
              {%- for option in product.options_with_values -%}
                  <fieldset class="js product-form__input">
                    {%- for value in option.values -%}
                      <input type="radio" id="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}"
                            name="{{ option.name }}"
                            value="{{ value | escape }}"
                            form="product-form-{{ section.id }}"
                            {% if option.selected_value == value %}checked{% endif %}
                      >
                      <label class="{{ value | handleize }}"
                      for="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}">
                      </label>
                    {%- endfor -%}
                  </fieldset>
                  <div id="variantLabel">
                    {{ option.selected_value }}
                  </div>
              {%- endfor -%}
              <script type="application/json">
                {{ product.variants | json }}
              </script>
            </variant-radios>
        {%- endunless -%}

        <noscript>
          <div class="product-form__input{% if product.has_only_default_variant %} hidden{% endif %}">
            <label class="form__label" for="Variants-{{ section.id }}">{{ 'products.product.product_variants' | t }}</label>
            <div class="select">
              <select name="id" id="Variants-{{ section.id }}" class="select__select" form="product-form">
                {%- for variant in product.variants -%}
                  <option
                    {% if variant == product.selected_or_first_available_variant %}selected="selected"{% endif %}
                    {% if variant.available == false %}disabled{% endif %}
                    value="{{ variant.id }}"
                  >
                    {{ variant.title }}
                    {%- if variant.available == false %} - {{ 'products.product.sold_out' | t }}{% endif %}
                    - {{ variant.price | money | strip_html }}
                  </option>
                {%- endfor -%}
              </select>
              {% render 'icon-caret' %}
            </div>
          </div>
        </noscript> {% endcomment %}

        {% comment %} Buy Buttons {% endcomment %}
        {% comment %} <div class="buy-buttons">
          <product-form class="product-form">
            {%- form 'product', product, id: product_form_id, class: 'form', novalidate: 'novalidate', data-type: 'add-to-cart-form' -%}
              <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
              <div class="product-form__buttons">
                <button
                  type="submit"
                  name="add"
                  class="product-form__submit button button--full-width {% if block.settings.show_dynamic_checkout and product.selling_plan_groups == empty %}button--secondary{% else %}button--primary{% endif %}"
                {% if product.selected_or_first_available_variant.available == false %}disabled{% endif %}
                >
                    {%- if product.selected_or_first_available_variant.available -%}
                      {{ 'products.product.add_to_cart' | t }}
                    {%- else -%}
                      {{ 'products.product.sold_out' | t }}
                    {%- endif -%}
                </button>
                {%- if block.settings.show_dynamic_checkout -%}
                  {{ form | payment_button }}
                {%- endif -%}
              </div>
            {%- endform -%}
          </product-form> {% endcomment %}

          {% comment %} {{ 'component-pickup-availability.css' | asset_url | stylesheet_tag }}

          {%- assign pick_up_availabilities = product.selected_or_first_available_variant.store_availabilities | where: 'pick_up_enabled', true -%}

          <pickup-availability class="product__pickup-availabilities no-js-hidden"
            {% if product.selected_or_first_available_variant.available and pick_up_availabilities.size > 0 %} available{% endif %}
            data-base-url="{{ shop.url }}{{ routes.root_url }}"
            data-variant-id="{{ product.selected_or_first_available_variant.id }}"
            data-has-only-default-variant="{{ product.has_only_default_variant }}"
          >
            <template>
              <pickup-availability-preview class="pickup-availability-preview">
                {% render 'icon-unavailable' %}
                <div class="pickup-availability-info">
                  <p class="caption-large">{{ 'products.product.pickup_availability.unavailable' | t }}</p>
                  <button class="pickup-availability-button link link--text underlined-link">{{ 'products.product.pickup_availability.refresh' | t }}</button>
                </div>
              </div>
            </template>
          </pickup-availability> {% endcomment %}
          {% comment %} <script src="{{ 'pickup-availability.js' | asset_url }}" defer="defer"></script> {% endcomment %}
        {% comment %} </div> {% endcomment %}
      </div>
    </div>
  </div>
  {% comment %} {%- render 'cart-notification' -%} {% endcomment %}

  <div class="grid__item">
  <div class="product-background">
    {%- for media in product.media -%}
      {%- if media.alt == 'background-1' -%}
        <img
          class="product-background-1"
          data-scroll
          data-scroll-speed=".9"
          srcset="{%- if media.preview_image.width >= 550 -%}{{ media.preview_image | img_url: '550x' }} 550w,{%- endif -%}
                  {%- if media.preview_image.width >= 1100 -%}{{ media.preview_image | img_url: '1100x' }} 1100w,{%- endif -%}
                  {%- if media.preview_image.width >= 1680 -%}{{ media.preview_image | img_url: '1680x' }} 1680w,{%- endif -%}
                  {%- if media.preview_image.width >= 1920 -%}{{ media.preview_image | img_url: '1920x' }} 1920w,{%- endif -%}
                  {%- if media.preview_image.width >= 2048 -%}{{ media.preview_image | img_url: '2048x' }} 2048w,{%- endif -%}
                  {%- if media.preview_image.width >= 4096 -%}{{ media.preview_image | img_url: '4096x' }} 4096w{%- endif -%}"
          sizes="(min-width: 750px) calc(100vw - 12rem), 100vw"
          src="{{ media.preview_image | img_url: '750x' }}"
          alt="{{ media.alt | escape }}"
          loading="lazy"
          width="1100"
          height="{{ 1100 | divided_by: media.preview_image.aspect_ratio | ceil }}"
          data-media-id="{{ media.id }}"
        >
        {%- endif -%}
        {%- if media.alt == 'background-2' -%}
          <img
            class="product-background-2"
            data-scroll
            data-scroll-speed="3"
            srcset="{%- if media.preview_image.width >= 550 -%}{{ media.preview_image | img_url: '550x' }} 550w,{%- endif -%}
                    {%- if media.preview_image.width >= 1100 -%}{{ media.preview_image | img_url: '1100x' }} 1100w,{%- endif -%}
                    {%- if media.preview_image.width >= 1680 -%}{{ media.preview_image | img_url: '1680x' }} 1680w,{%- endif -%}
                    {%- if media.preview_image.width >= 1920 -%}{{ media.preview_image | img_url: '1920x' }} 1920w,{%- endif -%}
                    {%- if media.preview_image.width >= 2048 -%}{{ media.preview_image | img_url: '2048x' }} 2048w,{%- endif -%}
                    {%- if media.preview_image.width >= 4096 -%}{{ media.preview_image | img_url: '4096x' }} 4096w{%- endif -%}"
            sizes="(min-width: 750px) calc(100vw - 12rem), 100vw"
            src="{{ media.preview_image | img_url: '750x' }}"
            alt="{{ media.alt | escape }}"
            loading="lazy"
            width="1100"
            height="{{ 1100 | divided_by: media.preview_image.aspect_ratio | ceil }}"
            data-media-id="{{ media.id }}"
          >
          {%- endif -%}
      {%- endfor -%}
    </div>
  </div>
</div>
</section>
